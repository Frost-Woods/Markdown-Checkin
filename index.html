<!DOCTYPE html>
<html lang="zh-CN" class="light-mode">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdownæ‰“å¡å¹³å°ï¼ˆGitHubç›´è¿ç‰ˆï¼‰</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simplemde@1.11.2/dist/simplemde.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
    <style>
        /* åŸºç¡€å¸ƒå±€ï¼ˆä¿®å¤æš—è‰²æ¨¡å¼å…¨å±æ¸²æŸ“ï¼‰ */
        html, body { 
            padding: 0;
            margin: 0;
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
        }
        .app-container {
            display: flex;
            min-height: 100vh;
            width: 100%;
        }

        /* ä¾§è¾¹æ æ ·å¼ï¼ˆä¿®å¤å±•å¼€/æ”¶èµ· + å›¾æ ‡ä¼˜åŒ–ï¼‰ */
        .sidebar {
            width: 300px;
            background-color: #f8f9fa;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            min-height: 100vh;
            z-index: 10;
        }
        /* ä¾§è¾¹æ æ”¶èµ·çŠ¶æ€ */
        .sidebar.collapsed {
            width: 60px;
            padding: 0;
            overflow: hidden;
        }
        /* ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’®ï¼ˆä¸‰æ¡çº¹å›¾æ ‡ï¼‰ */
        .sidebar-toggle {
            position: absolute;
            right: 15px;
            top: 20px;
            background-color: transparent;
            border: none;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            transition: color 0.3s;
        }
        /* æš—è‰²æ¨¡å¼ä¸‹æŒ‰é’®é¢œè‰² */
        .dark-mode .sidebar-toggle {
            color: #e0e0e0;
        }
        /* æ”¶èµ·æ—¶æŒ‰é’®ä½ç½®è°ƒæ•´ */
        .sidebar.collapsed .sidebar-toggle {
            right: 15px;
        }
        /* ä¸‰æ¡çº¹å›¾æ ‡æ ·å¼ */
        .sidebar-toggle .hamburger {
            display: block;
            width: 20px;
            height: 2px;
            background-color: currentColor;
            position: relative;
        }
        .sidebar-toggle .hamburger::before,
        .sidebar-toggle .hamburger::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background-color: currentColor;
            left: 0;
        }
        .sidebar-toggle .hamburger::before {
            top: -6px;
        }
        .sidebar-toggle .hamburger::after {
            top: 6px;
        }
        /* æ”¶èµ·æ—¶æŒ‰é’®æ—‹è½¬ */
        .sidebar.collapsed .sidebar-toggle .hamburger {
            transform: rotate(90deg);
        }

        /* ä¸»å†…å®¹åŒºï¼ˆä¿®å¤æš—è‰²æ¨¡å¼èƒŒæ™¯ï¼‰ */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            min-height: 100vh;
            transition: background-color 0.3s, color 0.3s;
        }

        /* æ–‡ä»¶é¡¹æ ·å¼ */
        .file-item { 
            cursor: pointer; 
            padding: 8px; 
            border: 1px solid #eee; 
            margin-bottom: 5px; 
            border-radius: 4px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            transition: background-color 0.3s;
        }
        .file-item:hover { 
            background-color: #f5f5f5; 
        }
        .delete-btn { 
            padding: 2px 8px; 
            font-size: 12px; 
        }

        /* é¢„è§ˆåŒºæ ·å¼ */
        #preview { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            line-height: 1.6; 
            min-height: 400px; 
            padding: 1rem;
            border-radius: 4px;
            transition: background-color 0.3s, color 0.3s;
        }
        #preview h1, #preview h2, #preview h3 { 
            border-bottom: 1px solid #eee; 
            padding-bottom: 0.5rem; 
            margin-top: 1rem; 
        }
        #preview code { 
            padding: 2px 4px; 
            border-radius: 4px;
        }
        #preview pre { 
            padding: 1rem; 
            border-radius: 4px; 
            overflow-x: auto;
        }
        #preview img { 
            max-width: 100%; 
            height: auto; 
        }

        /* æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’® */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #0d6efd;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        /* æ˜äº®æ¨¡å¼æ ·å¼ */
        .light-mode {
            background-color: #ffffff;
            color: #333333;
        }
        .light-mode .sidebar {
            background-color: #f8f9fa;
        }
        .light-mode .file-item {
            border-color: #eee;
        }
        .light-mode .file-item:hover {
            background-color: #f5f5f5;
        }
        .light-mode #preview {
            background-color: #f8f9fa;
            color: #333;
        }
        .light-mode #preview h1, .light-mode #preview h2, .light-mode #preview h3 {
            border-bottom-color: #eee;
        }
        .light-mode #preview code {
            background-color: #eee;
            color: #333;
        }
        .light-mode #preview pre {
            background-color: #f5f5f5;
            color: #333;
        }
        .light-mode input, .light-mode textarea, .light-mode .form-control {
            background-color: #ffffff;
            color: #333;
            border-color: #ddd;
        }
        .light-mode .alert-info {
            background-color: #d1ecf1;
            color: #0c5460;
            border-color: #bee5eb;
        }
        /* æš—è‰²æ¨¡å¼æ ·å¼ï¼ˆä¿®å¤å…¨å±æ¸²æŸ“ï¼‰ */
        .dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }
        .dark-mode .sidebar {
            background-color: #2d2d2d;
        }
        .dark-mode .main-content {
            background-color: #1a1a1a;
        }
        .dark-mode .file-item {
            border-color: #444;
        }
        .dark-mode .file-item:hover {
            background-color: #3d3d3d;
        }
        .dark-mode #preview {
            background-color: #2d2d2d;
            color: #e0e0e0;
        }
        .dark-mode #preview h1, .dark-mode #preview h2, .dark-mode #preview h3 {
            border-bottom-color: #444;
        }
        .dark-mode #preview code {
            background-color: #444;
            color: #e0e0e0;
        }
        .dark-mode #preview pre {
            background-color: #3d3d3d;
            color: #e0e0e0;
        }
        .dark-mode input, .dark-mode textarea, .dark-mode .form-control {
            background-color: #3d3d3d;
            color: #e0e0e0;
            border-color: #444;
        }
        .dark-mode .alert-info {
            background-color: #2d3b45;
            color: #e0e0e0;
            border-color: #445a6b;
        }
    </style>
    <!-- éŸ³æ•ˆ -->
    <audio id="error-audio" preload="auto">
        <source src="./static/error.mp3" type="audio/mpeg">
        <source src="https://cdn.jsdelivr.net/gh/fawazahmed0/simple-api@main/audio/you-gan-ma-ai-yo.mp3" type="audio/mpeg">
    </audio>
    <audio id="success-audio" preload="auto">
        <source src="./static/success.mp3" type="audio/mpeg">
        <source src="https://cdn.jsdelivr.net/gh/fawazahmed0/simple-api@main/audio/wa-zhen-de-shi-ni-ya.mp3" type="audio/mpeg">
    </audio>
</head>
<body>
    <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
    <button class="theme-toggle" id="theme-toggle">ğŸŒ™</button>

    <div class="app-container">
        <!-- ä¾§è¾¹æ ï¼ˆé…ç½®åŒºï¼‰ -->
        <div class="sidebar" id="sidebar">
            <button class="sidebar-toggle" id="sidebar-toggle">
                <span class="hamburger"></span>
            </button>
            <div class="alert alert-info p-3" style="margin-top: 60px;">
                <h5>GitHubé…ç½®</h5>
                <div class="mb-2">
                    <label>ç”¨æˆ·åï¼š</label>
                    <input type="text" id="github-user" class="form-control mt-1" placeholder="å¦‚ï¼šFrost-Woods" value="ä½ çš„ç”¨æˆ·å">
                </div>
                <div class="mb-2">
                    <label>ä»“åº“åï¼š</label>
                    <input type="text" id="github-repo" class="form-control mt-1" placeholder="å¦‚ï¼šMarkdown-Checkin" value="ä½ çš„ä»“åº“å">
                </div>
                <div class="mb-2">
                    <label>PATï¼ˆrepoæƒé™ï¼‰ï¼š</label>
                    <input type="password" id="github-token" class="form-control mt-1" placeholder="ghp_xxxx" value="ä½ çš„PAT">
                </div>
                <div class="mb-2">
                    <label>åˆ†æ”¯åï¼š</label>
                    <input type="text" id="github-branch" class="form-control mt-1" placeholder="main" value="main">
                </div>
            </div>
        </div>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content">
            <h1>Markdownæ‰“å¡å¹³å°</h1>

            <!-- ä¸Šä¼ åŒº -->
            <div class="upload-area mt-4">
                <h4>ä¸Šä¼ æ‰“å¡æ–‡ä»¶</h4>
                <input type="file" id="file-upload" accept=".md" class="form-control mt-2">
                <button id="upload-btn" class="btn btn-primary mt-2">ä¸Šä¼ æ–‡ä»¶</button>
                <div id="upload-status" class="mt-2 text-success"></div>
            </div>

            <!-- æ–‡ä»¶åˆ—è¡¨ -->
            <div class="file-list-area mt-4">
                <h4>å·²ä¸Šä¼ çš„æ‰“å¡æ–‡ä»¶</h4>
                <div id="file-list" class="file-list"></div>
            </div>

            <!-- ç¼–è¾‘+é¢„è§ˆ -->
            <div class="editor-container mt-4">
                <h4>ç¼–è¾‘æ‰“å¡å†…å®¹</h4>
                <div class="row mt-2">
                    <div class="col-md-6">
                        <textarea id="editor"></textarea>
                        <div class="mt-3">
                            <button id="save-btn" class="btn btn-success">ä¿å­˜ä¿®æ”¹</button>
                            <button id="export-btn" class="btn btn-info export-btn" disabled>å¯¼å‡ºæ–‡ä»¶</button>
                            <div id="save-status" class="mt-2 text-success"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5 class="mb-2">å®æ—¶é¢„è§ˆ</h5>
                        <div id="preview" class="border"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simplemde@1.11.2/dist/simplemde.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.0/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-html.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-css.min.js"></script>

    <script>
        // åˆå§‹åŒ–ç¼–è¾‘å™¨
        const simplemde = new SimpleMDE({
            element: document.getElementById("editor"),
            autofocus: false,
            spellChecker: false,
            toolbar: ["bold", "italic", "heading", "|", "unordered-list", "ordered-list", "|", "link", "image", "|", "preview", "fullscreen"]
        });

        // å®æ—¶é¢„è§ˆï¼ˆé›†æˆä»£ç é«˜äº®ï¼‰
        simplemde.codemirror.on("change", function() {
            const content = simplemde.value();
            marked.setOptions({
                highlight: function(code, lang) {
                    if (lang && Prism.languages[lang]) {
                        return Prism.highlight(code, Prism.languages[lang], lang);
                    }
                    return code;
                }
            });
            document.getElementById("preview").innerHTML = marked.parse(content) || "<p class='text-muted'>ç¼–è¾‘Markdownå†…å®¹ï¼Œè¿™é‡Œå®æ—¶é¢„è§ˆï½</p>";
        });

        // å…¨å±€å˜é‡
        let currentFile = { name: "", sha: "" };
        let GITHUB_CONFIG = {
            user: "",
            repo: "",
            token: "",
            branch: ""
        };

        // è¯»å–é…ç½®
        function getConfig() {
            GITHUB_CONFIG = {
                user: $("#github-user").val().trim(),
                repo: $("#github-repo").val().trim(),
                token: $("#github-token").val().trim(),
                branch: $("#github-branch").val().trim() || "main"
            };
            if (!GITHUB_CONFIG.user || !GITHUB_CONFIG.repo || !GITHUB_CONFIG.token) {
                alert("è¯·å…ˆå¡«å†™å®Œæ•´çš„GitHubé…ç½®ï¼");
                return false;
            }
            return true;
        }

        // è¯·æ±‚å¤´
        function getHeaders() {
            return {
                "Authorization": `token ${GITHUB_CONFIG.token}`,
                "Accept": "application/vnd.github.v3+json",
                "Content-Type": "application/json"
            };
        }

        // æ’­æ”¾éŸ³æ•ˆ
        function playAudio(audioId) {
            const audio = document.getElementById(audioId);
            audio.pause();
            audio.currentTime = 0;
            audio.play().catch(() => {
                alert(audioId === "error-audio" ? "ä½ å¹²å˜›å“å“Ÿï¼åªèƒ½ä¸Šä¼ .mdæ–‡ä»¶ï½" : "å“‡çœŸçš„æ˜¯ä½ å‘€ï¼æ ¼å¼æ­£ç¡®ï½");
            });
        }

        // åŠ è½½æ–‡ä»¶åˆ—è¡¨
        function loadFileList() {
            if (!getConfig()) return;

            const apiUrl = `https://api.github.com/repos/${GITHUB_CONFIG.user}/${GITHUB_CONFIG.repo}/contents/?ref=${GITHUB_CONFIG.branch}`;
            $("#file-list").html("<div class='text-muted'>åŠ è½½ä¸­...</div>");

            $.get({
                url: apiUrl,
                headers: getHeaders(),
                success: function(data) {
                    const fileList = $("#file-list");
                    fileList.empty();
                    const mdFiles = data.filter(item => item.type === "file" && item.name.endsWith(".md"));

                    if (mdFiles.length === 0) {
                        fileList.html("<div class='text-muted'>æš‚æ— .mdæ–‡ä»¶</div>");
                        return;
                    }

                    mdFiles.forEach(file => {
                        const commitUrl = `https://api.github.com/repos/${GITHUB_CONFIG.user}/${GITHUB_CONFIG.repo}/commits?path=${encodeURIComponent(file.name)}&per_page=1&ref=${GITHUB_CONFIG.branch}`;
                        $.get({
                            url: commitUrl,
                            headers: getHeaders(),
                            success: function(commits) {
                                const updateTime = commits.length > 0 ? new Date(commits[0].commit.committer.date).toLocaleString() : "æœªçŸ¥æ—¶é—´";
                                const fileItem = $(`<div class='file-item'>
                                    <div>${file.name} <small class='text-muted'>(${updateTime})</small></div>
                                    <button class='btn btn-danger btn-sm delete-btn' data-filename='${file.name}' data-sha='${file.sha}'>åˆ é™¤</button>
                                </div>`);

                                fileItem.find("div:first").click(function() {
                                    const filename = $(this).parent().find(".delete-btn").data("filename");
                                    loadFileContent(filename);
                                });

                                fileItem.find(".delete-btn").click(function(e) {
                                    e.stopPropagation();
                                    const filename = $(this).data("filename");
                                    const sha = $(this).data("sha");
                                    if (confirm(`ç¡®å®šåˆ é™¤ ${filename} å—ï¼Ÿæ— æ³•æ¢å¤ï¼`)) {
                                        deleteFile(filename, sha);
                                    }
                                });

                                fileList.append(fileItem);
                            }
                        });
                    });
                },
                error: function(err) {
                    $("#file-list").html(`<div class='text-danger'>åŠ è½½å¤±è´¥ï¼š${err.responseJSON?.message || "æœªçŸ¥é”™è¯¯"}</div>`);
                }
            });
        }

        // åŠ è½½æ–‡ä»¶å†…å®¹ï¼ˆUTF-8å…¼å®¹ï¼‰
        function loadFileContent(filename) {
            if (!getConfig()) return;
            
            const apiUrl = `https://api.github.com/repos/${GITHUB_CONFIG.user}/${GITHUB_CONFIG.repo}/contents/${encodeURIComponent(filename)}?ref=${GITHUB_CONFIG.branch}`;
            $.get({
                url: apiUrl,
                headers: getHeaders(),
                success: function(data) {
                    const binaryStr = atob(data.content.replace(/\n/g, ""));
                    let utf8Str = "";
                    for (let i = 0; i < binaryStr.length; i++) {
                        utf8Str += String.fromCharCode(binaryStr.charCodeAt(i));
                    }
                    const content = decodeURIComponent(escape(utf8Str));
                    
                    simplemde.value(content);
                    currentFile = { name: filename, sha: data.sha };
                    $("#export-btn").prop("disabled", false);
                    $("#save-status").text("");
                },
                error: function(err) {
                    alert(`åŠ è½½å¤±è´¥ï¼š${err.responseJSON?.message}`);
                }
            });
        }

        // ä¸Šä¼ æ–‡ä»¶
        $("#upload-btn").click(function() {
            const fileInput = $("#file-upload")[0];
            if (!fileInput.files.length) {
                alert("è¯·é€‰æ‹©æ–‡ä»¶ï¼");
                return;
            }
            if (!getConfig()) return;

            const file = fileInput.files[0];
            if (!file.name.endsWith(".md")) {
                playAudio("error-audio");
                $("#upload-status").text("åªèƒ½ä¸Šä¼ .mdæ–‡ä»¶ï¼").removeClass("text-success").addClass("text-danger");
                return;
            }

            playAudio("success-audio");
            const reader = new FileReader();
            reader.onload = function(e) {
                const content = btoa(e.target.result);
                const apiUrl = `https://api.github.com/repos/${GITHUB_CONFIG.user}/${GITHUB_CONFIG.repo}/contents/${encodeURIComponent(file.name)}?ref=${GITHUB_CONFIG.branch}`;
                $("#upload-status").text("ä¸Šä¼ ä¸­...").removeClass("text-danger").addClass("text-success");

                $.ajax({
                    url: apiUrl,
                    type: "PUT",
                    headers: getHeaders(),
                    data: JSON.stringify({
                        message: `Upload ${file.name} - ${new Date().toLocaleString()}`,
                        content: content,
                        branch: GITHUB_CONFIG.branch
                    }),
                    success: function() {
                        $("#upload-status").text("ä¸Šä¼ æˆåŠŸï¼");
                        loadFileList();
                        fileInput.value = "";
                        setTimeout(() => $("#upload-status").text(""), 3000);
                    },
                    error: function(err) {
                        $("#upload-status").text(`å¤±è´¥ï¼š${err.responseJSON?.message}`).removeClass("text-success").addClass("text-danger");
                    }
                });
            };
            reader.readAsText(file);
        });

        // ä¿å­˜æ–‡ä»¶
        $("#save-btn").click(function() {
            if (!currentFile.name) {
                alert("è¯·å…ˆé€‰æ‹©æ–‡ä»¶ï¼");
                return;
            }
            if (!getConfig()) return;

            const content = simplemde.value();
            const apiUrl = `https://api.github.com/repos/${GITHUB_CONFIG.user}/${GITHUB_CONFIG.repo}/contents/${encodeURIComponent(currentFile.name)}?ref=${GITHUB_CONFIG.branch}`;
            $("#save-status").text("ä¿å­˜ä¸­...");

            $.get({
                url: apiUrl,
                headers: getHeaders(),
                success: function(fileData) {
                    $.ajax({
                        url: apiUrl,
                        type: "PUT",
                        headers: getHeaders(),
                        data: JSON.stringify({
                            message: `Update ${currentFile.name} - ${new Date().toLocaleString()}`,
                            content: btoa(unescape(encodeURIComponent(content))),
                            sha: fileData.sha,
                            branch: GITHUB_CONFIG.branch
                        }),
                        success: function() {
                            $("#save-status").text("ä¿å­˜æˆåŠŸï¼");
                            loadFileList();
                            setTimeout(() => $("#save-status").text(""), 3000);
                        },
                        error: function(err) {
                            if (err.status === 409) {
                                $("#save-status").text("ç‰ˆæœ¬å†²çªï¼è¯·é‡æ–°åŠ è½½æ–‡ä»¶ï½").addClass("text-danger");
                            } else {
                                $("#save-status").text(`å¤±è´¥ï¼š${err.responseJSON?.message}`).addClass("text-danger");
                            }
                        }
                    });
                }
            });
        });

        // åˆ é™¤æ–‡ä»¶
        function deleteFile(filename, sha) {
            if (!getConfig()) return;

            const apiUrl = `https://api.github.com/repos/${GITHUB_CONFIG.user}/${GITHUB_CONFIG.repo}/contents/${encodeURIComponent(filename)}?ref=${GITHUB_CONFIG.branch}`;
            $.ajax({
                url: apiUrl,
                type: "DELETE",
                headers: getHeaders(),
                data: JSON.stringify({
                    message: `Delete ${filename} - ${new Date().toLocaleString()}`,
                    sha: sha,
                    branch: GITHUB_CONFIG.branch
                }),
                success: function() {
                    alert(`åˆ é™¤ ${filename} æˆåŠŸï¼`);
                    loadFileList();
                    if (currentFile.name === filename) {
                        simplemde.value("");
                        currentFile = { name: "", sha: "" };
                        $("#export-btn").prop("disabled", true);
                    }
                },
                error: function(err) {
                    alert(`åˆ é™¤å¤±è´¥ï¼š${err.responseJSON?.message}`);
                }
            });
        }

        // å¯¼å‡ºæ–‡ä»¶
        $("#export-btn").click(function() {
            if (!currentFile.name) {
                alert("è¯·å…ˆé€‰æ‹©æ–‡ä»¶ï¼");
                return;
            }
            const content = simplemde.value();
            const blob = new Blob([content], { type: "text/markdown" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = currentFile.name;
            a.click();
            URL.revokeObjectURL(url);
        });

        // ä¾§è¾¹æ åˆ‡æ¢ï¼ˆä¿®å¤å±•å¼€/æ”¶èµ·é€»è¾‘ï¼‰
        $("#sidebar-toggle").click(function() {
            const sidebar = $("#sidebar");
            if (sidebar.hasClass("collapsed")) {
                sidebar.removeClass("collapsed");
            } else {
                sidebar.addClass("collapsed");
            }
        });

        // æ˜æš—æ¨¡å¼åˆ‡æ¢ï¼ˆä¿®å¤å…¨å±æ¸²æŸ“ï¼‰
        $("#theme-toggle").click(function() {
            const html = document.documentElement;
            const toggleBtn = $(this);
            if (html.classList.contains("light-mode")) {
                html.classList.remove("light-mode");
                html.classList.add("dark-mode");
                toggleBtn.text("â˜€ï¸");
            } else {
                html.classList.remove("dark-mode");
                html.classList.add("light-mode");
                toggleBtn.text("ğŸŒ™");
            }
        });

        // é¡µé¢åŠ è½½åˆå§‹åŒ–
        $(document).ready(function() {
            loadFileList();
            document.getElementById("preview").innerHTML = "<p class='text-muted'>ç¼–è¾‘Markdownå†…å®¹ï¼Œè¿™é‡Œå®æ—¶é¢„è§ˆï½</p>";
            $("#github-user, #github-repo, #github-token, #github-branch").change(loadFileList);
        });
    </script>
</body>
</html>

