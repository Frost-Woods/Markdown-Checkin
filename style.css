:root {
  --bg: #f7f7f7;
  --panel: #ffffff;
  --border: #ddd;
  --text: #222;
  /* æ–°å¢åŠé€æ˜å˜é‡ */
  --panel-opacity: 0.85;
  --topbar-opacity: 0.9;
}

[data-theme="dark"] {
  --bg: #1e1e1e;
  --panel: #2a2a2a;
  --border: #444;
  --text: #eee;
  /* æ·±è‰²æ¨¡å¼ä¿æŒä¸€è‡´çš„é€æ˜åº¦ */
  --panel-opacity: 0.85;
  --topbar-opacity: 0.9;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system;
  background: var(--bg);
  color: var(--text);
  /* å…¨å±€å£çº¸è®¾ç½® */
  background-image: url('audio/wallpaper.png');
  background-size: cover; /* è¦†ç›–æ•´ä¸ªç•Œé¢ */
  background-repeat: no-repeat; /* ä¸é‡å¤ */
  background-position: center center; /* å±…ä¸­ */
  background-attachment: fixed; /* å›ºå®šèƒŒæ™¯ä¸æ»šåŠ¨ */
}

/* é¡¶éƒ¨æ  - åŠé€æ˜ */
.topbar {
  height: 52px;
  display: flex;
  align-items: center;
  padding: 0 12px;
  background: rgba(255, 255, 255, var(--topbar-opacity));
  border-bottom: 1px solid var(--border);
  /* æ·±è‰²æ¨¡å¼é€‚é… */
  backdrop-filter: blur(8px); /* æ¯›ç»ç’ƒæ•ˆæœå¢å¼ºè§‚æ„Ÿ */
}

/* æ·±è‰²æ¨¡å¼é¡¶éƒ¨æ èƒŒæ™¯ä¿®æ­£ */
[data-theme="dark"] .topbar {
  background: rgba(42, 42, 42, var(--topbar-opacity));
}

.topbar .title {
  margin-left: 10px;
  font-weight: bold;
}

.topbar .actions {
  margin-left: auto;
}

.topbar button {
  margin-left: 6px;
}

/* å¸ƒå±€ */
.container {
  display: flex;
  height: calc(100vh - 52px);
}

/* å·¦ä¾§ä¾§è¾¹æ  - åŠé€æ˜ */
.sidebar {
  width: 280px;
  background: rgba(255, 255, 255, var(--panel-opacity));
  border-right: 1px solid var(--border);
  padding: 12px;
  transition: width .25s ease, padding .25s ease;
  overflow-y: auto;
  backdrop-filter: blur(8px);
}

/* æ·±è‰²æ¨¡å¼å·¦ä¾§ä¾§è¾¹æ  */
[data-theme="dark"] .sidebar {
  background: rgba(42, 42, 42, var(--panel-opacity));
}

.sidebar.collapsed {
  width: 0;
  padding: 0;
  border-right: none;
  overflow: hidden;
}

/* å³ä¾§ä¾§è¾¹æ  - åŠé€æ˜ */
.sidebar-right {
  width: 280px;
  background: rgba(255, 255, 255, var(--panel-opacity));
  border-left: 1px solid var(--border);
  padding: 12px;
  transition: width .25s ease, padding .25s ease;
  overflow-y: auto;
  backdrop-filter: blur(8px);
}

/* æ·±è‰²æ¨¡å¼å³ä¾§ä¾§è¾¹æ  */
[data-theme="dark"] .sidebar-right {
  background: rgba(42, 42, 42, var(--panel-opacity));
}

.sidebar-right.collapsed {
  width: 0;
  padding: 0;
  border-left: none;
  overflow: hidden;
}

/* é¢æ¿ - åŠé€æ˜ï¼ˆå¢å¼ºå±‚çº§ï¼‰ */
.panel {
  margin-bottom: 18px;
  background: rgba(255, 255, 255, 0.9);
  padding: 8px;
  border-radius: 4px;
  backdrop-filter: blur(4px);
}

[data-theme="dark"] .panel {
  background: rgba(42, 42, 42, 0.9);
}

.panel h3 {
  margin: 0 0 8px;
  font-size: 14px;
}

.panel input,
.panel button {
  width: 100%;
  margin-bottom: 6px;
}

/* æ–‡ä»¶åˆ—è¡¨æ ·å¼ */
.file-list {
  border: 1px solid var(--border);
  border-radius: 4px;
  max-height: 300px;
  overflow-y: auto;
  margin-bottom: 12px;
  background: rgba(255, 255, 255, 0.8);
}

[data-theme="dark"] .file-list {
  background: rgba(30, 30, 30, 0.8);
}

.file-item {
  padding: 8px 12px;
  border-bottom: 1px solid var(--border);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.file-item:last-child {
  border-bottom: none;
}

.file-item:hover {
  background-color: rgba(0,0,0,0.05);
}

.file-item.active {
  background-color: rgba(59, 130, 246, 0.1);
  font-weight: bold;
}

.file-item .delete-icon {
  opacity: 0.5;
  font-size: 12px;
  cursor: pointer;
}

.file-item .delete-icon:hover {
  opacity: 1;
}

/* ä¸»åŒº */
.main {
  flex: 1;
  padding: 12px;
  display: flex;
  flex-direction: column;
}

.editor-container {
  flex: 1;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

/* ç¼–è¾‘å™¨ - åŠé€æ˜ */
#editor {
  padding: 12px;
  font-family: monospace;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, var(--panel-opacity));
  color: var(--text);
  backdrop-filter: blur(8px);
}

[data-theme="dark"] #editor {
  background: rgba(42, 42, 42, var(--panel-opacity));
}

/* é¢„è§ˆåŒº - åŠé€æ˜ */
#preview {
  padding: 12px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, var(--panel-opacity));
  overflow-y: auto;
  backdrop-filter: blur(8px);
}

[data-theme="dark"] #preview {
  background: rgba(42, 42, 42, var(--panel-opacity));
}

/* é¢„è§ˆåŒºä»£ç å—æ ·å¼ä¼˜åŒ–ï¼ˆåˆå¹¶æ–°å¢çš„positionå’Œpadding-leftï¼‰ */
#preview pre.hljs {
  margin: 12px 0; /* ä¸Šä¸‹å¤–è¾¹è· */
  padding: 16px; /* å†…è¾¹è·å¢å¤§ */
  padding-left: 24px; /* æ–°å¢ï¼šä¸ºå·¦ä¾§çš„é€‰æ‹©å™¨ç•™å‡ºç©ºé—´ */
  border-radius: 4px; /* è½»å¾®åœ†è§’ */
  background: rgba(0, 0, 0, 0.8) !important; /* ä»£ç å—åŠ æ·±ä¿è¯å¯è¯»æ€§ */
  position: relative; /* æ–°å¢ï¼šä¸ºä»£ç å—æ ·å¼é€‰æ‹©å™¨æä¾›å®šä½åŸºå‡† */
}

#preview pre.hljs code {
  line-height: 1.5; /* ä¼˜åŒ–è¡Œé«˜ */
}

/* ğŸ‘‡ æ–°å¢ï¼šä»£ç å—æ ·å¼è®¾ç½®é¢æ¿ + é€‰æ‹©å™¨æ ·å¼ */
/* ä»£ç å—æ ·å¼è®¾ç½®é¢æ¿ */
.code-style-panel {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 16px;
  z-index: 1000;
  display: none;
  min-width: 250px;
  backdrop-filter: blur(8px); /* æ–°å¢ï¼šåŒ¹é…æ•´ä½“æ¯›ç»ç’ƒé£æ ¼ */
}

.code-style-panel.active {
  display: block;
}

.color-option {
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.color-option label {
  flex: 1;
  font-size: 14px;
}

.color-option input[type="color"] {
  width: 40px;
  height: 40px;
  padding: 0;
  border: none;
  cursor: pointer;
}

.color-option input[type="range"] {
  flex: 2;
}

/* ä»£ç å—æ ·å¼é€‰æ‹©å™¨æç¤ºæ¡† */
.code-block-style-picker {
  position: absolute;
  left: -20px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  border: 1px solid var(--border);
  border-radius: 2px;
  background: var(--panel);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 12px;
  opacity: 0.7;
  transition: opacity 0.2s;
  z-index: 10; /* æ–°å¢ï¼šç¡®ä¿é€‰æ‹©å™¨åœ¨ä»£ç å—ä¹‹ä¸Š */
}

.code-block-style-picker:hover {
  opacity: 1;
}
/* ğŸ‘† æ–°å¢ä»£ç ç»“æŸ */

/* ä¸¤ä¾§è¾¹æ éƒ½æ‰“å¼€æ—¶çš„å¸ƒå±€è°ƒæ•´ */
.container:has(.sidebar:not(.collapsed)):has(.sidebar-right:not(.collapsed)) .main {
  flex: 1;
  min-width: 400px;
}

/* æŒ‰é’®æ ·å¼å¢å¼ºï¼ˆä¿è¯åŠé€æ˜èƒŒæ™¯ä¸‹çš„å¯è¯»æ€§ï¼‰ */
button {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 6px 10px;
  cursor: pointer;
  color: var(--text);
  transition: background 0.2s;
}

[data-theme="dark"] button {
  background: rgba(42, 42, 42, 0.9);
}

button:hover {
  background: rgba(240, 240, 240, 0.95);
}

[data-theme="dark"] button:hover {
  background: rgba(50, 50, 50, 0.95);
}

/* è¾“å…¥æ¡†åŠé€æ˜ */
input {
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 6px 8px;
  color: var(--text);
}

[data-theme="dark"] input {
  background: rgba(42, 42, 42, 0.9);
}

/* ä»£ç é«˜äº®é…è‰²ï¼ˆåŸæœ‰ä»£ç ä¿ç•™ï¼‰ */
[data-theme="light"] .hljs {
  background-color: #ffffff;
  padding: 12px;
  border-radius: 4px;
  color: #ffffff; /* Light+ åŸºç¡€æ–‡å­—è‰²ï¼ˆçº¯é»‘ï¼Œé«˜å¯¹æ¯”ï¼‰ */
}

[data-theme="light"] .hljs-meta {
  color: #FF9878; /* äº®çŠç‘šæ©™ï¼Œé»‘åº•é«˜å¯¹æ¯”ï¼Œé¢„å¤„ç†æŒ‡ä»¤é†’ç›® */
  font-weight: 500;
}
/* å…³é”®å­—ï¼ˆint/if/else/for ç­‰ï¼‰ */
[data-theme="light"] .hljs-keyword {
  color: #6ABFFA; /* äº®é’è“ï¼Œæ ¸å¿ƒè¯­æ³•å…³é”®å­— */
  font-weight: 500;
}
/* å†…ç½®ç±»å‹ï¼ˆint/char/float ç­‰ï¼‰ */
[data-theme="light"] .hljs-built_in {
  color: #88C8F8; /* æµ…é’è“ï¼Œä¸æ™®é€šå…³é”®å­—åŒºåˆ†ï¼Œä»å±è¯­æ³•å±‚ */
}
/* å‡½æ•°åï¼ˆmain/è‡ªå®šä¹‰å‡½æ•°ç­‰ï¼‰ */
[data-theme="light"] .hljs-title.function_ {
  color: #F8D878; /* äº®æµ…é‡‘é»„ï¼Œå‡½æ•°åæ ¸å¿ƒå±‚çº§ */
}
/* å˜é‡å */
[data-theme="light"] .hljs-variable {
  color: #c0a2e0; /* äº®æµ…ç´«ï¼Œæ•°æ®å±‚ */
}
/* å­—ç¬¦ä¸² */
[data-theme="light"] .hljs-string {
  color: #F0A898; /* äº®ä¸‰æ–‡é±¼æ©™ï¼Œæ–‡æœ¬å±‚ */
}
/* æ•°å­— */
[data-theme="light"] .hljs-number {
  color: #88E888; /* äº®è–„è·ç»¿ï¼Œæ•°å€¼å±‚ */
}
/* æ³¨é‡Š */
[data-theme="light"] .hljs-comment {
  color: #78C878; /* äº®æ©„æ¦„ç»¿ï¼Œå¼±åŒ–ä½†æ¸…æ™° */
  font-style: italic;
  opacity: 0.9;
}
/* ç±»å */
[data-theme="light"] .hljs-class {
  color: #98D8F8; /* äº®æµ…é’ï¼Œç±»å‹å±‚ */
}
/* æ ‡ç‚¹ç¬¦å·ï¼ˆæ‹¬å·/åˆ†å·/å¤§æ‹¬å·ç­‰ï¼‰ */
[data-theme="light"] .hljs-punctuation {
  color: #B8B8D8; /* æµ…ç´«ç°ï¼Œæ ‡ç‚¹å±‚ï¼Œé»‘åº•ä¸èä¸”ä¸æŠ¢æˆ */
}
/* è¿ç®—ç¬¦ï¼ˆ=/+/*/ç­‰ï¼‰ */
[data-theme="light"] .hljs-operator {
  color: #D8D8F8; /* äº®ç´«ç°ï¼Œè¿ç®—ç¬¦å±‚ï¼Œç•¥äº®äºæ ‡ç‚¹ */
}

/* é’ˆå¯¹ dark mode çš„è°ƒæ•´ï¼ˆä¸æµ…è‰²ç³»åŒé£æ ¼çš„æŸ”é›¾æ·±è‰²ä¸»é¢˜ï¼Œè§†è§‰ç»Ÿä¸€ï¼‰ */
[data-theme="dark"] .hljs {
  background-color: #f1e9e9; /* æ·±ç°ç´«åº•ï¼ˆä¸æµ…è‰²ç³»åŒè‰²ç³»ï¼Œåè°ƒç»Ÿä¸€ï¼‰ */
  padding: 12px;
  border-radius: 6px;
  color: #e0e0f0; /* æµ…ç°ç´«åŸºç¡€æ–‡å­—è‰²ï¼ˆé«˜å¯¹æ¯”åº¦+æŸ”å’Œæ„Ÿï¼‰ */
  line-height: 1.6;
}

/* VSCode Dark+ ä¼˜åŒ–é…è‰²ï¼ˆæ ¸å¿ƒï¼šé«˜å¯¹æ¯”åº¦ã€é«˜é²œè‰³åº¦ï¼Œæ— ç°æš—è‰²ï¼‰ */
[data-theme="dark"] .hljs-keyword {
  color: #61AFEF; /* äº®è“è‰²ï¼ˆé²œè‰³ä¸åˆºçœ¼ï¼Œæ›¿ä»£åŸç°æš—çš„ #569CD6ï¼‰ */
}

[data-theme="dark"] .hljs-variable {
  color: #A7D8FF; /* æµ…é’è“ï¼ˆæ›´äº®æ›´é€šé€ï¼Œæ›¿ä»£åŸåç°çš„ #9CDCFEï¼‰ */
}

[data-theme="dark"] .hljs-string {
  color: #E59866; /* ä¸‰æ–‡é±¼æ©™ï¼ˆæ›´é²œè‰³ï¼Œæ›¿ä»£åŸåæš—çš„ #CE9178ï¼‰ */
}

[data-theme="dark"] .hljs-number {
  color: #98C379; /* è–„è·ç»¿ï¼ˆæ›´äº®æ›´æ¸…æ–°ï¼Œæ›¿ä»£åŸåç°çš„ #B5CEA8ï¼‰ */
}

[data-theme="dark"] .hljs-comment {
  color: #72B865; /* æ©„æ¦„ç»¿ï¼ˆæ›´äº®æ›´é€šé€ï¼Œæ›¿ä»£åŸåæš—çš„ #6A9955ï¼‰ */
}

[data-theme="dark"] .hljs-function {
  color: #E5E58A; /* æµ…é‡‘é»„ï¼ˆæ›´äº®æ›´é†’ç›®ï¼Œæ›¿ä»£åŸåç°çš„ #DCDCAAï¼‰ */
}

[data-theme="dark"] .hljs-class {
  color: #56D9B9; /* é’æŸ ç»¿ï¼ˆæ›´é²œè‰³ï¼Œæ›¿ä»£åŸåæš—çš„ #4EC9B0ï¼‰ */
}