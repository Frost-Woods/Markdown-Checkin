<template>
  <header class="topbar">
    <button @click="$emit('toggle-left-sidebar')" title="ä¾§è¾¹æ ">â˜°</button>
    <div class="title">ğŸ“ ä»“åº“é“¾æ¥:https://github.com/222twotwotwo/editor.github.io</div>
    <div class="actions">
      <button @click="$emit('toggle-right-sidebar')" title="æ–‡ä»¶åˆ—è¡¨">ğŸ“‚</button>
      <button @click="$emit('toggle-sound')">{{ soundIcon }}</button>
      <button @click="$emit('toggle-theme')">{{ themeIcon }}</button>
      <button @click="$emit('export-html')">å¯¼å‡º HTML</button>
      <button @click="$emit('export-md')">å¯¼å‡º MD</button>
      <button @click="$emit('export-pdf')">å¯¼å‡º PDF</button>
    </div>
  </header>
</template>

<script setup>
import { computed } from 'vue'

const props = defineProps({
  soundEnabled: Boolean
})

defineEmits([
  'toggle-left-sidebar',
  'toggle-right-sidebar',
  'toggle-sound',
  'toggle-theme',
  'export-html',
  'export-md',
  'export-pdf'
])

const soundIcon = computed(() => props.soundEnabled ? 'ğŸ”Š' : 'ğŸ”‡')
const themeIcon = computed(() => {
  const theme = document.documentElement.getAttribute('data-theme')
  return theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™'
})
</script>

<style scoped>
.topbar {
  height: 52px;
  display: flex;
  align-items: center;
  padding: 0 12px;
  background: rgba(255, 255, 255, var(--topbar-opacity));
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(8px);
}

[data-theme="dark"] .topbar {
  background: rgba(42, 42, 42, var(--topbar-opacity));
}

.topbar .title {
  margin-left: 10px;
  font-weight: bold;
}

.topbar .actions {
  margin-left: auto;
}

.topbar button {
  margin-left: 6px;
}
</style>